% SPDX-FileCopyrightText: 2024 Lukas Zirpel <thesis+lukas@zirpel.de>
% SPDX-License-Identifier: GPL-3.0-only

\chapter{Results}
\label{chap:results}
\todo{beschreiben, was man sieht, Messungen irgendwie anordnen, innerhalb Sektion mit anderem vergleichen, z.B. MTU. zuerst nach Protokollen, dann Parameter}

In this section, we describe the results obtained by performing our
experiments.

\todo{Neue research questions formulieren, die auch mit unserem Setup beantwortet werden k√∂nnen}
\section{RQ1: How much packet size overhead does each protocol add?}
can not be measured with our setup but is constant for WireGuard and ICMPTX

\section{RQ2: How much does the MTU decrease by using each protocol?}
if protocol does not support fragmentation, see above

\section{RQ3: How much additional latency does each protocol add?}
cannot be measured with our measurement setup

\section{RQ4: Do any protocols introduce additional packet loss?}
cannot be measured with our measurement setup

\section{RQ5: How much processing power and RAM does each protocol consume/require?}
did not measure
for userspace tunnel programs, can be measured using systemctl status
Not sure how to measure RAM usage of WireGuard


graphen beschreiben (Welche Achsen gibt es, etc.)
was sieht man?
warum sieht man das was man sieht?


graphs:
latency
packet counts
throughput

single or multi

single: axes:

for looking at a specific measurement in detail:

latency: box plot for every bucket: time, latency

packet counts: line with dot every bucket: time, counts

throughput: line with dot every bucket: time, throughput


to be able to see the influence of a parameter, multiple measurements in one graph:

\includegraphics[draft=false,width=0.4\textwidth]{figures/Graphs/todo.pdf}

The different measurements are always plotted on the x axis.

latency: violin plot: measurement, latency

packet duplicate: violin plot: measurement, ratio duplicate to total sent

packet dropped: violin plot: measurement, ratio dropped to total sent

throughput (with and without overhead): violin plot: measurement, throughput


move to chapter methodology:
one second buckets


were unable to evaluate ICMPTX

icmptx: sendto: No buffer space available, issue was mentioned previously \href{https://github.com/jakkarth/icmptx/issues/1}{todo}.
Author proposed two workarounds but using either one or both at the same time did not fix the issue.
issue seems to come from trying to send data faster than the underlying link can support.
tunnel software should be able to handle this case by dropping packets instead of crashing.


iodine

only one packet can be in flight, so usable throughput depends on latency and is generally very low

Can not be measured reliably with our setup, would need improved setup, see figure



mostly see what we expected

we measure exactly the latency we told the network emulator to simulate

Tor pluggable transports like obfs4 and Snowflake
meant for stream data like TCP, not UDP
\todo[inline]{Verify this claim more thouroughly!}

